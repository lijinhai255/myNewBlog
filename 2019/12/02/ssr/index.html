<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSR | 阿海blog</title>
    <meta name="description" content="博客日志">
    
    
    <link rel="preload" href="/myNewBlog/assets/css/0.styles.38b4f049.css" as="style"><link rel="preload" href="/myNewBlog/assets/js/app.ea81de50.js" as="script"><link rel="preload" href="/myNewBlog/assets/js/7.7a14a471.js" as="script"><link rel="preload" href="/myNewBlog/assets/js/5.ea7f276a.js" as="script"><link rel="preload" href="/myNewBlog/assets/js/12.bcef6220.js" as="script"><link rel="prefetch" href="/myNewBlog/assets/js/10.e6be6426.js"><link rel="prefetch" href="/myNewBlog/assets/js/11.a4e69017.js"><link rel="prefetch" href="/myNewBlog/assets/js/13.4246c915.js"><link rel="prefetch" href="/myNewBlog/assets/js/14.6037e47c.js"><link rel="prefetch" href="/myNewBlog/assets/js/15.db45d848.js"><link rel="prefetch" href="/myNewBlog/assets/js/16.a9c9e634.js"><link rel="prefetch" href="/myNewBlog/assets/js/17.c55212b0.js"><link rel="prefetch" href="/myNewBlog/assets/js/18.1e34379c.js"><link rel="prefetch" href="/myNewBlog/assets/js/19.ff79592e.js"><link rel="prefetch" href="/myNewBlog/assets/js/20.7f430f13.js"><link rel="prefetch" href="/myNewBlog/assets/js/21.d0bf949c.js"><link rel="prefetch" href="/myNewBlog/assets/js/22.2575b6a0.js"><link rel="prefetch" href="/myNewBlog/assets/js/23.8e985822.js"><link rel="prefetch" href="/myNewBlog/assets/js/24.77db26d3.js"><link rel="prefetch" href="/myNewBlog/assets/js/25.ed12f7b1.js"><link rel="prefetch" href="/myNewBlog/assets/js/26.ecf5eee9.js"><link rel="prefetch" href="/myNewBlog/assets/js/27.3ba5fd98.js"><link rel="prefetch" href="/myNewBlog/assets/js/28.ca77a843.js"><link rel="prefetch" href="/myNewBlog/assets/js/29.35363513.js"><link rel="prefetch" href="/myNewBlog/assets/js/3.5e3faf72.js"><link rel="prefetch" href="/myNewBlog/assets/js/30.bc39ef42.js"><link rel="prefetch" href="/myNewBlog/assets/js/31.c6909c64.js"><link rel="prefetch" href="/myNewBlog/assets/js/4.cad130af.js"><link rel="prefetch" href="/myNewBlog/assets/js/6.5b2dd521.js"><link rel="prefetch" href="/myNewBlog/assets/js/8.d0a76593.js"><link rel="prefetch" href="/myNewBlog/assets/js/9.8749201d.js"><link rel="prefetch" href="/myNewBlog/assets/js/vuejs-paginate.45d6a308.js">
    <link rel="stylesheet" href="/myNewBlog/assets/css/0.styles.38b4f049.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuperess-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/myNewBlog/myNewBlog/" class="nav-link home-link">阿海blog
        </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/myNewBlog/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/myNewBlog/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/myNewBlog/myNewBlog/" class="nav-link mobile-home-link">阿海blog
      </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/myNewBlog/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/myNewBlog/tag/" class="nav-link">Tags</a></li></ul></div></div></div></section> <div class="content-wrapper"><div id="vuperess-theme-blog__post-layout"><div class="vuepress-blog-theme-content content__default"><h1 id="ssr"><a href="#ssr" aria-hidden="true" class="header-anchor">#</a> SSR</h1> <p>服务端渲染及同步</p> <h2 id="文件目录介绍"><a href="#文件目录介绍" aria-hidden="true" class="header-anchor">#</a> 文件目录介绍</h2> <p><img src="/myNewBlog/assets/img/Xnip2019-12-10_14-19-45.64249733.jpg" alt="tp"></p> <table><thead><tr><th>文件名称</th> <th>作用</th> <th>思路</th></tr></thead> <tbody><tr><td>src</td> <td>react主要的文件</td> <td>分别打包成 client server 进行引入</td></tr> <tr><td>server</td> <td>服务器端执行脚本</td> <td>返回渲染的页面</td></tr> <tr><td>client</td> <td>实现页面交互</td> <td>注水  客户端入口 , 只需做事件监听</td></tr> <tr><td>bulid</td> <td>首屏静态资源</td> <td>entry:'./server/index.js',</td></tr> <tr><td>public</td> <td>client打包后的静态文件</td> <td>entry:'./client/index.js',</td></tr></tbody></table> <p>server 服务器端 请求 返回渲染的页面
src  react文件
client 页面交互js文件 打包成public
bulid 首屏静态资源 js文件</p> <h2 id="ssr环境搭建"><a href="#ssr环境搭建" aria-hidden="true" class="header-anchor">#</a> SSR环境搭建</h2> <ul><li>初始化醒目</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>mkdir ssr 
de ssh
npm init y

</code></pre></div><ul><li>创建webpack文件
<code>webpack.server.js</code></li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> nodeExternals <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-node-externals'</span><span class="token punctuation">)</span>
<span class="token comment">// 服务端webpack</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    target<span class="token punctuation">:</span><span class="token string">'node'</span><span class="token punctuation">,</span>
    mode<span class="token punctuation">:</span><span class="token string">'development'</span><span class="token punctuation">,</span>
    entry<span class="token punctuation">:</span><span class="token string">'./server/index.js'</span><span class="token punctuation">,</span>
    output<span class="token punctuation">:</span><span class="token punctuation">{</span>
        file<span class="token punctuation">:</span><span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
        path<span class="token punctuation">:</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span><span class="token string">'build'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token punctuation">:</span><span class="token punctuation">{</span>
        rulses<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token punctuation">{</span>
            text<span class="token punctuation">:</span><span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
            loader<span class="token punctuation">:</span><span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
            options<span class="token punctuation">:</span><span class="token punctuation">{</span>
                presets<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'@babel/preset-react'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'@babel/preset-env'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


</code></pre></div><ul><li>安装依赖</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>yarn  install webapck webpack<span class="token operator">-</span>cli webpack<span class="token operator">-</span>node<span class="token operator">-</span>externals @babel<span class="token operator">/</span>core @babel<span class="token operator">/</span>preset<span class="token operator">-</span>env @babel<span class="token operator">/</span>preset<span class="token operator">-</span>react <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div><ul><li>创建指令</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code> <span class="token string">&quot;dev:client&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;webpack --config webpack.client.js --watch&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;dev:server&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;webpack --config webpack.server.js --watch&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;dev:start&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;nodemon --watch build --exec node \&quot;./build/bundle.js\&quot;&quot;</span>
</code></pre></div><h2 id="rendertostring实现服务器渲染"><a href="#rendertostring实现服务器渲染" aria-hidden="true" class="header-anchor">#</a> renderToString实现服务器渲染</h2> <ul><li>安装依赖集合</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>yarn add react react<span class="token operator">-</span>dom express nodemode <span class="token operator">--</span>save
npm i nodemon <span class="token operator">-</span>save

</code></pre></div><ul><li>serve/index.js</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">,</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>renderToString<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom/server'</span>
<span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">'express'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../src/App'</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span>res</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span>  Page <span class="token operator">=</span><span class="token operator">&lt;</span>App<span class="token operator">&gt;</span><span class="token operator">&lt;</span>App<span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token comment">// 把 react 解析成html</span>
    <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>Page<span class="token punctuation">)</span>
    res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;html&gt;
    &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;&gt;
        &lt;title&gt; react ssr&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;root&quot;&gt;
            </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">
        &lt;/div&gt;
    &lt;/body&gt;

    &lt;/html&gt;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><ul><li>执行指令</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>yarn  dev<span class="token punctuation">:</span>server <span class="token comment">// </span>
yarn  dev<span class="token punctuation">:</span>start <span class="token comment">// 启动后端</span>
</code></pre></div><h2 id="client-交互js实现"><a href="#client-交互js实现" aria-hidden="true" class="header-anchor">#</a> client 交互js实现</h2> <ul><li>新建文件 client - index.js</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDom <span class="token keyword">from</span> <span class="token string">'react-dom'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../src/App'</span>

<span class="token comment">// ReactDom.render()  即做dom初始化 也做事件监听</span>
<span class="token comment">// 注水  客户端入口 , 只需做事件监听</span>
ReactDom<span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="使用concurrently提升开发体验"><a href="#使用concurrently提升开发体验" aria-hidden="true" class="header-anchor">#</a> 使用concurrently提升开发体验</h2> <p>实现多次指令 一次执行</p> <div class="language-markdown extra-class"><pre class="language-markdown"><code> &quot;start&quot;:&quot;concurrently \&quot;npm run dev:client\&quot; \&quot;npm run dev:server\&quot; \&quot;npm run dev:start\&quot;&quot;,
</code></pre></div><h2 id="ssr-实现路由"><a href="#ssr-实现路由" aria-hidden="true" class="header-anchor">#</a> SSR 实现路由</h2> <table><thead><tr><th>文件名称</th> <th>作用</th></tr></thead> <tbody><tr><td>client</td> <td>使用BrouserRouter</td></tr> <tr><td>server</td> <td>使用StaticRouter</td></tr></tbody></table> <h2 id="使用staticrouter支持多页面ssr"><a href="#使用staticrouter支持多页面ssr" aria-hidden="true" class="header-anchor">#</a> 使用StaticRouter支持多页面ssr</h2> <div class="language-markdown extra-class"><pre class="language-markdown"><code>yarn add react-router-dom --save 
</code></pre></div><ul><li>App.js
设置路由</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Route<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> Index <span class="token keyword">from</span> <span class="token string">&quot;./router/index&quot;</span>
<span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">&quot;./router/about&quot;</span><span class="token punctuation">;</span>


<span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/&quot;</span> exact component<span class="token operator">=</span><span class="token punctuation">{</span>Index<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&quot;/about&quot;</span> exact component<span class="token operator">=</span><span class="token punctuation">{</span>About<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

</code></pre></div><ul><li>服务器端使用StaticRouter</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token comment">// 这里的node代码会用babel处理</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> renderToString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-dom/server'</span>
<span class="token keyword">import</span> express <span class="token keyword">from</span> <span class="token string">'express'</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../src/App'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StaticRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 设置静态资源目录-- public设置成静态资源目录</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token function">static</span><span class="token punctuation">(</span><span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'*'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// 解析app</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> <span class="token function">renderToString</span><span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>StaticRouter location<span class="token operator">=</span><span class="token punctuation">{</span>req<span class="token punctuation">.</span>url<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token punctuation">{</span>App<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>StaticRouter<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span>
  res<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;html&gt;
      &lt;head&gt;
        &lt;meta charset=&quot;utf-8&quot;/&gt;
        &lt;title&gt;react ssr&lt;/title&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;div id=&quot;root&quot;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>content<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/div&gt;
        &lt;script src=&quot;/bundle.js&quot;&gt;&lt;/script&gt;
      &lt;/body&gt;
    &lt;/html&gt;
  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3003</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'wacth'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>浏览器端使用BrowserRouter</li></ul> <div class="language-javaScript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> ReactDom <span class="token keyword">from</span> <span class="token string">'react-dom'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'../src/App'</span>

<span class="token comment">// ReactDom.render()  即做dom初始化 也做事件监听</span>
<span class="token comment">// 注水  客户端入口 , 只需做事件监听</span>
<span class="token keyword">const</span> Page <span class="token operator">=</span> <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span>App<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
ReactDom<span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span>Page<span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_09-ssr支持数据流"><a href="#_09-ssr支持数据流" aria-hidden="true" class="header-anchor">#</a> 09-ssr支持数据流</h2> <h2 id="实现redux"><a href="#实现redux" aria-hidden="true" class="header-anchor">#</a> 实现redux</h2> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>yarn add axios <span class="token operator">--</span>save
yarn add redux <span class="token operator">--</span>save
yarn add redux<span class="token operator">-</span>thunk <span class="token operator">--</span>save
yarn add react<span class="token operator">-</span>redux <span class="token operator">--</span>save
</code></pre></div><h2 id="异步获取数据思路"><a href="#异步获取数据思路" aria-hidden="true" class="header-anchor">#</a> 异步获取数据思路</h2> <h3 id="server层实现数据获取"><a href="#server层实现数据获取" aria-hidden="true" class="header-anchor">#</a> server层实现数据获取</h3> <blockquote><p>router index.js</p></blockquote> <div class="language-javaScript extra-class"><pre class="language-javascript"><code>  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//第一步 数据首页显示</span>
    props<span class="token punctuation">.</span><span class="token function">getIndexList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div></div> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#文件目录介绍" title="文件目录介绍">文件目录介绍</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ssr环境搭建" title="SSR环境搭建">SSR环境搭建</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#rendertostring实现服务器渲染" title="renderToString实现服务器渲染">renderToString实现服务器渲染</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#client-交互js实现" title="client 交互js实现">client 交互js实现</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#使用concurrently提升开发体验" title="使用concurrently提升开发体验">使用concurrently提升开发体验</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ssr-实现路由" title="SSR 实现路由">SSR 实现路由</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#使用staticrouter支持多页面ssr" title="使用StaticRouter支持多页面ssr">使用StaticRouter支持多页面ssr</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#_09-ssr支持数据流" title="09-ssr支持数据流">09-ssr支持数据流</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#实现redux" title="实现redux">实现redux</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#异步获取数据思路" title="异步获取数据思路">异步获取数据思路</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#server层实现数据获取" title="server层实现数据获取">server层实现数据获取</a></div></div></div></div> <footer class="footer" data-v-0d113134><div class="footer-left-wrap" data-v-0d113134><ul class="contact" data-v-0d113134><li class="contact-item" data-v-0d113134><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-0d113134><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-0d113134></path></svg>
          
        </a></li><li class="contact-item" data-v-0d113134><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-0d113134><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-0d113134></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-0d113134><ul class="copyright" data-v-0d113134><li class="copyright-item" data-v-0d113134><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-0d113134>Privacy Policy</a></li><li class="copyright-item" data-v-0d113134><a href="/myNewBlog/2019/12/02/ssr/.html" class="nav-link" data-v-0d113134>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/myNewBlog/assets/js/app.ea81de50.js" defer></script><script src="/myNewBlog/assets/js/7.7a14a471.js" defer></script><script src="/myNewBlog/assets/js/5.ea7f276a.js" defer></script><script src="/myNewBlog/assets/js/12.bcef6220.js" defer></script>
  </body>
</html>
